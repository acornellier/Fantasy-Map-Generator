{"remainingRequest":"/Users/acornellier/git/Fantasy-Map-Generator/vue/node_modules/babel-loader/lib/index.js!/Users/acornellier/git/Fantasy-Map-Generator/vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/acornellier/git/Fantasy-Map-Generator/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/acornellier/git/Fantasy-Map-Generator/vue/src/components/options/Options.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/acornellier/git/Fantasy-Map-Generator/vue/src/components/options/Options.vue","mtime":1550935726527},{"path":"/Users/acornellier/git/Fantasy-Map-Generator/vue/node_modules/cache-loader/dist/cjs.js","mtime":1550636236327},{"path":"/Users/acornellier/git/Fantasy-Map-Generator/vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/acornellier/git/Fantasy-Map-Generator/vue/node_modules/cache-loader/dist/cjs.js","mtime":1550636236327},{"path":"/Users/acornellier/git/Fantasy-Map-Generator/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as $ from 'jquery';\nimport * as d3 from 'd3';\nimport LayoutContent from './LayoutContent.vue';\nimport StyleContent from './StyleContent.vue';\nimport OptionsContent from './OptionsContent.vue';\nimport CustomizeContent from './CustomizeContent.vue';\nimport AboutContent from './AboutContent.vue';\nimport Stickied from './Stickied.vue';\n\nfunction getHex(radius, type) {\n  var x0 = 0,\n      y0 = 0;\n  var s = type === 'pointyHex' ? 0 : Math.PI / -6;\n  var thirdPi = Math.PI / 3;\n  var angles = [s, s + thirdPi, s + 2 * thirdPi, s + 3 * thirdPi, s + 4 * thirdPi, s + 5 * thirdPi];\n  return angles.map(function (angle) {\n    var x1 = Math.sin(angle) * radius,\n        y1 = -Math.cos(angle) * radius,\n        dx = x1 - x0,\n        dy = y1 - y0;\n    x0 = x1, y0 = y1;\n    return [dx, dy];\n  });\n}\n\nfunction getHexGridPoints(size, type) {\n  var points = [];\n  var rt3 = Math.sqrt(3);\n  var off = type === 'pointyHex' ? rt3 * size / 2 : size * 3 / 2;\n  var ySpace = type === 'pointyHex' ? size * 3 / 2 : rt3 * size / 2;\n  var xSpace = type === 'pointyHex' ? rt3 * size : size * 3;\n\n  for (var y = 0, l = 0; y < graphHeight; y += ySpace, l++) {\n    for (var x = l % 2 ? 0 : off; x < graphWidth; x += xSpace) {\n      points.push([x, y]);\n    }\n  }\n\n  return points;\n}\n\nexport default {\n  name: 'Options',\n  components: {\n    LayoutContent: LayoutContent,\n    StyleContent: StyleContent,\n    OptionsContent: OptionsContent,\n    CustomizeContent: CustomizeContent,\n    AboutContent: AboutContent,\n    Stickied: Stickied\n  },\n  mounted: function mounted() {\n    $('#optionsContainer').draggable({\n      handle: '.drag-trigger',\n      snap: 'svg',\n      snapMode: 'both'\n    });\n    $('#optionsContainer *').on('mouseout', function () {\n      var tooltip = document.getElementById('tooltip');\n      tooltip.innerHTML = tooltip.getAttribute('data-main');\n    }); // Toggle Options pane\n\n    $('#optionsTrigger').on('click', function () {\n      var tooltip = document.getElementById('tooltip');\n\n      if (tooltip.getAttribute('data-main') === 'Сlick the arrow button to open options') {\n        tooltip.setAttribute('data-main', '');\n        tooltip.innerHTML = '';\n        localStorage.setItem('disable_click_arrow_tooltip', true);\n      }\n\n      if ($('#options').css('display') === 'none') {\n        $('#regenerate').hide();\n        $('#options').fadeIn();\n        $('#layoutTab').click();\n        $('#optionsTrigger').removeClass('icon-right-open glow').addClass('icon-left-open');\n      } else {\n        $('#options').fadeOut();\n        $('#optionsTrigger').removeClass('icon-left-open').addClass('icon-right-open');\n      }\n    });\n    $('#collapsible').hover(function () {\n      if ($('#optionsTrigger').hasClass('glow')) return;\n\n      if ($('#options').css('display') === 'none') {\n        $('#regenerate').show();\n        $('#optionsTrigger').removeClass('glow');\n      }\n    }, function () {\n      $('#regenerate').hide();\n    }); // lock / unlock option randomization\n\n    $('#options i[class^=\\'icon-lock\\']').click(function () {\n      $(this).toggleClass('icon-lock icon-lock-open');\n      var locked = +$(this).hasClass('icon-lock');\n      $(this).attr('data-locked', locked);\n      var option = this.id.slice(4, -5).toLowerCase();\n      var value = $('#' + option + 'Input').val();\n\n      if (locked) {\n        localStorage.setItem(option, value);\n      } else {\n        localStorage.removeItem(option);\n      }\n    });\n  },\n  methods: {\n    updateLabelGroups: function updateLabelGroups() {\n      this.$emit('updateLabelGroups');\n    },\n    applyDefaultStyle: function applyDefaultStyle() {\n      this.$emit('applyDefaultStyle');\n    },\n    toggleHeight: function toggleHeight() {\n      this.$emit('toggleHeight');\n    },\n    toggleOverlay: function toggleOverlay() {\n      var overlay = d3.select('svg').select('#viewbox').select('#overlay');\n      if (overlay.selectAll('*').size() !== 0) overlay.selectAll('*').remove();\n      var type = $('#styleOverlayType').value;\n      var size = +$('#styleOverlaySize').value;\n\n      if (type === 'pointyHex' || type === 'flatHex') {\n        var points = getHexGridPoints(size, type);\n        var hex = 'm' + getHex(size, type).slice(0, 4).join('l');\n        var d = points.map(function (p) {\n          return 'M' + p + hex;\n        }).join('');\n        overlay.append('path').attr('d', d);\n      } else if (type === 'square') {\n        var x = d3.range(size, svgWidth, size);\n        var y = d3.range(size, svgHeight, size);\n        overlay.append('g').selectAll('line').data(x).enter().append('line').attr('x1', function (d) {\n          return d;\n        }).attr('x2', function (d) {\n          return d;\n        }).attr('y1', 0).attr('y2', svgHeight);\n        overlay.append('g').selectAll('line').data(y).enter().append('line').attr('y1', function (d) {\n          return d;\n        }).attr('y2', function (d) {\n          return d;\n        }).attr('x1', 0).attr('x2', svgWidth);\n      } else {\n        var tr = \"translate(80 80) scale(\".concat(size / 20, \")\");\n        d3.select('#rose').attr('transform', tr);\n        overlay.append('use').attr('xlink:href', '#rose');\n      } // overlay.call(d3.drag().on('start', elementDrag))\n\n\n      if ($('#styleOverlayType').value === 'windrose') {\n        $('#styleOverlaySizeFriendly').innerHTML = '';\n        return;\n      }\n\n      if ($('#styleOverlayType').value === 'pointyHex' || $('#styleOverlayType').value === 'flatHex') size *= Math.cos(30 * Math.PI / 180) * 2;\n      $('#styleOverlaySizeFriendly').value = '(' + Math.round(size * $('#distanceScale').value) + ' ' + $('#distanceUnit').value + ')';\n    }\n  }\n};",{"version":3,"sources":["Options.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div id=\"optionsContainer\">\n  <div id=\"collapsible\">\n    <button id=\"optionsTrigger\" onmouseover=\"tip('Click to toggle options. Hotkey: O')\"\n            class=\"options icon-right-open glow\"/>\n    <button id=\"regenerate\" onmouseover=\"tip('Click to generate a new map. Hotkey: F6')\"\n            class=\"options\">\n      New Map!\n    </button>\n  </div>\n  <div id=\"options\">\n    <div class=\"drag-trigger\" onmouseover=\"tip('Drag to move options pane')\"/>\n    <div class=\"tab\">\n      <button id=\"layoutTab\" onmouseover=\"tip('Click to open layout menu')\" class=\"options\">\n        Layout\n      </button>\n      <button id=\"styleTab\" onmouseover=\"tip('Click to style menu')\" class=\"options\">\n        Style\n      </button>\n      <button id=\"optionsTab\" onmouseover=\"tip('Click to change generation options')\"\n              class=\"options\">\n        Options\n      </button>\n      <button id=\"customizeTab\" onmouseover=\"tip('Click to open customization menu')\"\n              class=\"options\">\n        Customize\n      </button>\n      <button id=\"aboutTab\" onmouseover=\"tip('Click to see Generator info')\" class=\"options\">\n        ?\n      </button>\n    </div>\n    <LayoutContent\n      @toggleOverlay=\"toggleOverlay\"\n      @toggleHeight=\"toggleHeight\"\n    />\n    <StyleContent\n      @updateLabelGroups=\"updateLabelGroups\"\n      @applyDefaultStyle=\"applyDefaultStyle\"\n      @toggleHeight=\"toggleHeight\"\n    />\n    <OptionsContent/>\n    <CustomizeContent/>\n    <AboutContent/>\n    <Stickied/>\n  </div>\n</div>\n</template>\n\n<script>\nimport * as $ from 'jquery'\nimport * as d3 from 'd3'\nimport LayoutContent from './LayoutContent.vue'\nimport StyleContent from './StyleContent.vue'\nimport OptionsContent from './OptionsContent.vue'\nimport CustomizeContent from './CustomizeContent.vue'\nimport AboutContent from './AboutContent.vue'\nimport Stickied from './Stickied.vue'\n\nfunction getHex(radius, type) {\n  let x0 = 0, y0 = 0\n  let s = type === 'pointyHex' ? 0 : Math.PI / -6\n  let thirdPi = Math.PI / 3\n  let angles = [s, s + thirdPi, s + 2 * thirdPi, s + 3 * thirdPi, s + 4 * thirdPi, s + 5 * thirdPi]\n  return angles.map(function(angle) {\n    const x1 = Math.sin(angle) * radius,\n      y1 = -Math.cos(angle) * radius,\n      dx = x1 - x0,\n      dy = y1 - y0\n    x0 = x1, y0 = y1\n    return [dx, dy]\n  })\n}\n\nfunction getHexGridPoints(size, type) {\n  let points = []\n  const rt3 = Math.sqrt(3)\n  const off = type === 'pointyHex' ? rt3 * size / 2 : size * 3 / 2\n  const ySpace = type === 'pointyHex' ? size * 3 / 2 : rt3 * size / 2\n  const xSpace = type === 'pointyHex' ? rt3 * size : size * 3\n  for (let y = 0, l = 0; y < graphHeight; y += ySpace, l++) {\n    for (let x = l % 2 ? 0 : off; x < graphWidth; x += xSpace) {\n      points.push([x, y])\n    }\n  }\n  return points\n}\n\nexport default {\n  name: 'Options',\n  components: {\n    LayoutContent,\n    StyleContent,\n    OptionsContent,\n    CustomizeContent,\n    AboutContent,\n    Stickied,\n  },\n  mounted() {\n    $('#optionsContainer').draggable({handle: '.drag-trigger', snap: 'svg', snapMode: 'both'})\n    $('#optionsContainer *').on('mouseout', function() {\n      let tooltip = document.getElementById('tooltip')\n      tooltip.innerHTML = tooltip.getAttribute('data-main')\n    })\n\n    // Toggle Options pane\n    $('#optionsTrigger').on('click', function() {\n      let tooltip = document.getElementById('tooltip')\n      if (tooltip.getAttribute('data-main') === 'Сlick the arrow button to open options') {\n        tooltip.setAttribute('data-main', '')\n        tooltip.innerHTML = ''\n        localStorage.setItem('disable_click_arrow_tooltip', true)\n      }\n      if ($('#options').css('display') === 'none') {\n        $('#regenerate').hide()\n        $('#options').fadeIn()\n        $('#layoutTab').click()\n        $('#optionsTrigger').removeClass('icon-right-open glow').addClass('icon-left-open')\n      } else {\n        $('#options').fadeOut()\n        $('#optionsTrigger').removeClass('icon-left-open').addClass('icon-right-open')\n      }\n    })\n    $('#collapsible').hover(function() {\n      if ($('#optionsTrigger').hasClass('glow')) return\n      if ($('#options').css('display') === 'none') {\n        $('#regenerate').show()\n        $('#optionsTrigger').removeClass('glow')\n      }\n    }, function() {\n      $('#regenerate').hide()\n    })\n\n    // lock / unlock option randomization\n    $('#options i[class^=\\'icon-lock\\']').click(function() {\n      $(this).toggleClass('icon-lock icon-lock-open')\n      const locked = +$(this).hasClass('icon-lock')\n      $(this).attr('data-locked', locked)\n      const option = (this.id).slice(4, -5).toLowerCase()\n      const value = $('#' + option + 'Input').val()\n      if (locked) {localStorage.setItem(option, value)} else {localStorage.removeItem(option)}\n    })\n  },\n  methods: {\n    updateLabelGroups() { this.$emit('updateLabelGroups') },\n    applyDefaultStyle() { this.$emit('applyDefaultStyle') },\n    toggleHeight() { this.$emit('toggleHeight') },\n    toggleOverlay() {\n      const overlay = d3.select('svg').select('#viewbox').select('#overlay')\n      if (overlay.selectAll('*').size() !== 0)\n        overlay.selectAll('*').remove()\n\n      const type = $('#styleOverlayType').value\n      let size = +$('#styleOverlaySize').value\n      if (type === 'pointyHex' || type === 'flatHex') {\n        let points = getHexGridPoints(size, type)\n        let hex = 'm' + getHex(size, type).slice(0, 4).join('l')\n        let d = points.map(function(p) {return 'M' + p + hex}).join('')\n        overlay.append('path').attr('d', d)\n      } else if (type === 'square') {\n        const x = d3.range(size, svgWidth, size)\n        const y = d3.range(size, svgHeight, size)\n        overlay.append('g').selectAll('line').data(x).enter().append('line')\n               .attr('x1', function(d) {return d})\n               .attr('x2', function(d) {return d})\n               .attr('y1', 0).attr('y2', svgHeight)\n        overlay.append('g').selectAll('line').data(y).enter().append('line')\n               .attr('y1', function(d) {return d})\n               .attr('y2', function(d) {return d})\n               .attr('x1', 0).attr('x2', svgWidth)\n      } else {\n        const tr = `translate(80 80) scale(${size / 20})`\n        d3.select('#rose').attr('transform', tr)\n        overlay.append('use').attr('xlink:href', '#rose')\n      }\n      // overlay.call(d3.drag().on('start', elementDrag))\n\n      if ($('#styleOverlayType').value === 'windrose') {\n        $('#styleOverlaySizeFriendly').innerHTML = ''\n        return\n      }\n      if ($('#styleOverlayType').value === 'pointyHex' || $('#styleOverlayType').value === 'flatHex')\n        size *= Math.cos(30 * Math.PI / 180) * 2\n      $('#styleOverlaySizeFriendly').value = '(' + Math.round(size * $('#distanceScale').value) + ' ' + $('#distanceUnit').value + ')'\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components/options"}]}